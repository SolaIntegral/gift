<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ギフト詳細 - GIFT</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🎁</text></svg>">
    <style>
        .gift-detail-hero {
            background: linear-gradient(135deg, var(--color-orange-primary), var(--color-orange-light));
            color: white;
            padding: 3rem 1rem;
            text-align: center;
            border-radius: 20px;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(255, 107, 53, 0.3);
        }
        
        .gift-icon-large {
            font-size: 5rem;
            margin-bottom: 1rem;
            display: block;
        }
        
        .gift-title {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            font-weight: bold;
        }
        
        .gift-price-large {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }
        
        .gift-description {
            font-size: 1.2rem;
            opacity: 0.9;
            line-height: 1.6;
        }
        
        .gift-info-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid var(--color-orange-primary);
        }
        
        .gift-info-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--color-orange-primary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .gift-info-content {
            font-size: 1.1rem;
            line-height: 1.6;
            color: var(--color-text-primary);
        }
        
        .gift-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 2rem;
        }
        
        .btn-large {
            padding: 1rem 2rem;
            font-size: 1.1rem;
            border-radius: 50px;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
            font-weight: bold;
        }
        
        .btn-primary-large {
            background: var(--color-orange-primary);
            color: white;
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.4);
        }
        
        .btn-primary-large:hover {
            background: var(--color-orange-dark);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.5);
        }
        
        .btn-secondary-large {
            background: white;
            color: var(--color-orange-primary);
            border: 2px solid var(--color-orange-primary);
        }
        
        .btn-secondary-large:hover {
            background: var(--color-orange-primary);
            color: white;
            transform: translateY(-2px);
        }
        
        .gift-status {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-weight: bold;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }
        
        .status-active {
            background: var(--color-green-light);
            color: var(--color-green-dark);
        }
        
        .gift-details-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .gift-detail-item {
            background: var(--color-background-light);
            padding: 1.5rem;
            border-radius: 15px;
            border-left: 4px solid var(--color-orange-primary);
        }
        
        .gift-detail-label {
            font-weight: bold;
            color: var(--color-orange-primary);
            margin-bottom: 0.5rem;
        }
        
        .gift-detail-value {
            font-size: 1.1rem;
            color: var(--color-text-primary);
        }
        
        .gift-message {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
            border-left: 5px solid var(--color-green-primary);
        }
        
        .gift-message-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--color-green-dark);
            margin-bottom: 1rem;
        }
        
        .gift-message-content {
            font-size: 1.1rem;
            line-height: 1.6;
            color: var(--color-text-primary);
            font-style: italic;
        }
        
        .gift-not-found {
            text-align: center;
            padding: 4rem 2rem;
        }
        
        .gift-not-found-icon {
            font-size: 5rem;
            margin-bottom: 2rem;
            opacity: 0.5;
        }
        
        .gift-not-found-title {
            font-size: 2rem;
            color: var(--color-text-secondary);
            margin-bottom: 1rem;
        }
        
        .gift-not-found-message {
            font-size: 1.1rem;
            color: var(--color-text-secondary);
            margin-bottom: 2rem;
        }
        
        @media (max-width: 768px) {
            .gift-title {
                font-size: 2rem;
            }
            
            .gift-price-large {
                font-size: 1.5rem;
            }
            
            .gift-actions {
                flex-direction: column;
            }
            
            .btn-large {
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- ヘッダー -->
    <header class="header">
        <div class="header-content">
            <a href="index.html" class="logo">GIFT</a>
            <div style="width: 60px;"></div>
        </div>
    </header>

    <!-- メインコンテンツ -->
    <main class="main-content">
        <div id="gift-content">
            <!-- ギフト詳細がここに表示されます -->
        </div>
        
        <div id="gift-not-found" style="display: none;">
            <div class="gift-not-found">
                <div class="gift-not-found-icon">🎁</div>
                <h1 class="gift-not-found-title">ギフトが見つかりません</h1>
                <p class="gift-not-found-message">
                    指定されたギフトIDが見つからないか、期限が切れている可能性があります。
                </p>
                <div class="gift-actions">
                    <a href="index.html" class="btn btn-primary-large">ホームに戻る</a>
                    <a href="send_gifts.html" class="btn btn-secondary-large">新しいギフトを贈る</a>
                </div>
            </div>
        </div>
    </main>

    <!-- フッターナビゲーション -->
    <nav class="footer-nav">
        <div class="footer-nav-content">
            <a href="index.html" class="footer-nav-item">
                <div class="footer-nav-icon">🏠</div>
                <div class="footer-nav-text">ホーム</div>
            </a>
            <a href="send_gifts.html" class="footer-nav-item">
                <div class="footer-nav-icon">🎁</div>
                <div class="footer-nav-text">ギフト</div>
            </a>
            <a href="mypage.html" class="footer-nav-item">
                <div class="footer-nav-icon">👤</div>
                <div class="footer-nav-text">マイページ</div>
            </a>
            <a href="history_send.html" class="footer-nav-item">
                <div class="footer-nav-icon">📋</div>
                <div class="footer-nav-text">履歴</div>
            </a>
        </div>
    </nav>

    <!-- フッター -->
    <footer class="footer">
        <p>&copy; 2024 GIFT. All rights reserved.</p>
    </footer>

    <script src="js/script.js"></script>
    <script>
        // ギフトデータ（実際のアプリではサーバーから取得）
        const giftDatabase = {
            'gift_001': {
                id: 'gift_001',
                name: '健康診断パックA',
                icon: '💊',
                description: '基本的な健康チェックで、血圧、血糖値、コレステロールなどを検査します。健康管理の第一歩として最適です。',
                price: 15000,
                status: 'active',
                sender: '田中花子',
                recipient: '田中太郎',
                recipientEmail: 'tanaka@example.com',
                message: 'お父さん、いつもお疲れ様です。健康でいてくださいね。',
                purchaseDate: '2024-01-15',
                expiryDate: '2024-12-31',
                hospital: '東京健康クリニック',
                address: '東京都渋谷区○○1-2-3',
                phone: '03-1234-5678',
                includedTests: [
                    '血圧測定',
                    '血糖値検査',
                    'コレステロール検査',
                    '肝機能検査',
                    '腎機能検査',
                    '尿検査',
                    '胸部X線',
                    '心電図'
                ],
                instructions: [
                    '予約は電話またはオンラインで可能です',
                    '検査前日は軽い食事を心がけてください',
                    '検査当日は朝食を抜いてお越しください',
                    '結果は1週間後に郵送されます'
                ]
            },
            'gift_002': {
                id: 'gift_002',
                name: '健康診断パックB',
                icon: '❤️',
                description: '詳細な健康診断で、心電図や胸部X線も含まれます。より詳しい健康状態を把握できます。',
                price: 25000,
                status: 'active',
                sender: '佐藤美咲',
                recipient: '佐藤健一',
                recipientEmail: 'sato@example.com',
                message: '夫へ。いつも家族のために働いてくれてありがとう。健康第一でお願いします。',
                purchaseDate: '2024-01-20',
                expiryDate: '2024-12-31',
                hospital: 'メディカルセンター',
                address: '東京都新宿区△△4-5-6',
                phone: '03-9876-5432',
                includedTests: [
                    '血圧測定',
                    '血糖値検査',
                    'コレステロール検査',
                    '肝機能検査',
                    '腎機能検査',
                    '尿検査',
                    '胸部X線',
                    '心電図',
                    '腹部エコー',
                    '眼底検査'
                ],
                instructions: [
                    '予約は電話またはオンラインで可能です',
                    '検査前日は軽い食事を心がけてください',
                    '検査当日は朝食を抜いてお越しください',
                    '腹部エコー検査のため、検査前は水分を控えてください',
                    '結果は1週間後に郵送されます'
                ]
            },
            'gift_003': {
                id: 'gift_003',
                name: '栄養指導セッション',
                icon: '🥗',
                description: '管理栄養士による栄養指導で、健康的な食生活をサポートします。',
                price: 5000,
                status: 'active',
                sender: '山田愛',
                recipient: '山田次郎',
                recipientEmail: 'yamada@example.com',
                message: 'お兄さん、バランスの良い食事を心がけてね。応援しています！',
                purchaseDate: '2024-01-25',
                expiryDate: '2024-06-30',
                hospital: '栄養ケアセンター',
                address: '東京都港区□□7-8-9',
                phone: '03-5555-1234',
                includedTests: [],
                instructions: [
                    '予約は電話またはオンラインで可能です',
                    '現在の食事内容を記録しておいてください',
                    'セッション時間は約60分です',
                    '栄養指導の資料をお持ち帰りいただけます'
                ]
            }
        };

        // URLパラメータからギフトIDを取得
        function getGiftIdFromUrl() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('id');
        }

        // ギフト詳細を表示
        function displayGift(giftId) {
            const gift = giftDatabase[giftId];
            
            if (!gift) {
                document.getElementById('gift-content').style.display = 'none';
                document.getElementById('gift-not-found').style.display = 'block';
                return;
            }

            const giftContent = document.getElementById('gift-content');
            
            giftContent.innerHTML = `
                <!-- ギフト詳細ヒーロー -->
                <section class="gift-detail-hero">
                    <span class="gift-icon-large">${gift.icon}</span>
                    <h1 class="gift-title">${gift.name}</h1>
                    <div class="gift-price-large">¥${gift.price.toLocaleString()}</div>
                    <p class="gift-description">${gift.description}</p>
                    <div class="gift-status status-${gift.status}">
                        ${gift.status === 'active' ? '有効' : '期限切れ'}
                    </div>
                </section>

                <!-- ギフト情報 -->
                <section class="gift-info-card">
                    <h2 class="gift-info-title">
                        <span>📋</span>
                        ギフト情報
                    </h2>
                    <div class="gift-details-grid">
                        <div class="gift-detail-item">
                            <div class="gift-detail-label">贈り主</div>
                            <div class="gift-detail-value">${gift.sender}</div>
                        </div>
                        <div class="gift-detail-item">
                            <div class="gift-detail-label">受取人</div>
                            <div class="gift-detail-value">${gift.recipient}</div>
                        </div>
                        <div class="gift-detail-item">
                            <div class="gift-detail-label">購入日</div>
                            <div class="gift-detail-value">${formatDate(gift.purchaseDate)}</div>
                        </div>
                        <div class="gift-detail-item">
                            <div class="gift-detail-label">有効期限</div>
                            <div class="gift-detail-value">${formatDate(gift.expiryDate)}</div>
                        </div>
                    </div>
                </section>

                <!-- メッセージ -->
                <section class="gift-message">
                    <h3 class="gift-message-title">💌 メッセージ</h3>
                    <p class="gift-message-content">${gift.message}</p>
                </section>

                <!-- 医療機関情報 -->
                <section class="gift-info-card">
                    <h2 class="gift-info-title">
                        <span>🏥</span>
                        医療機関情報
                    </h2>
                    <div class="gift-details-grid">
                        <div class="gift-detail-item">
                            <div class="gift-detail-label">医療機関名</div>
                            <div class="gift-detail-value">${gift.hospital}</div>
                        </div>
                        <div class="gift-detail-item">
                            <div class="gift-detail-label">住所</div>
                            <div class="gift-detail-value">${gift.address}</div>
                        </div>
                        <div class="gift-detail-item">
                            <div class="gift-detail-label">電話番号</div>
                            <div class="gift-detail-value">${gift.phone}</div>
                        </div>
                    </div>
                </section>

                ${gift.includedTests.length > 0 ? `
                <!-- 検査内容 -->
                <section class="gift-info-card">
                    <h2 class="gift-info-title">
                        <span>🔬</span>
                        検査内容
                    </h2>
                    <div class="gift-info-content">
                        <ul style="list-style: none; padding: 0;">
                            ${gift.includedTests.map(test => `
                                <li style="padding: 0.5rem 0; border-bottom: 1px solid #eee; display: flex; align-items: center;">
                                    <span style="color: var(--color-green-primary); margin-right: 0.5rem;">✓</span>
                                    ${test}
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                </section>
                ` : ''}

                <!-- 利用方法 -->
                <section class="gift-info-card">
                    <h2 class="gift-info-title">
                        <span>📝</span>
                        利用方法
                    </h2>
                    <div class="gift-info-content">
                        <ol style="padding-left: 1.5rem;">
                            ${gift.instructions.map(instruction => `
                                <li style="margin-bottom: 0.5rem;">${instruction}</li>
                            `).join('')}
                        </ol>
                    </div>
                </section>

                <!-- アクションボタン -->
                <section class="gift-actions">
                    <a href="tel:${gift.phone}" class="btn btn-primary-large">
                        📞 予約する
                    </a>
                    <a href="https://maps.google.com/?q=${encodeURIComponent(gift.address)}" target="_blank" class="btn btn-secondary-large">
                        🗺️ 地図を見る
                    </a>
                    <a href="index.html" class="btn btn-secondary-large">
                        🏠 ホームに戻る
                    </a>
                </section>
            `;
        }

        // 日付フォーマット
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('ja-JP', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }

        // ページ読み込み時の処理
        document.addEventListener('DOMContentLoaded', function() {
            const giftId = getGiftIdFromUrl();
            
            if (giftId) {
                displayGift(giftId);
            } else {
                document.getElementById('gift-content').style.display = 'none';
                document.getElementById('gift-not-found').style.display = 'block';
            }
        });
    </script>
</body>
</html>
